# JMeter 压测增强总报告（混合/摸高/浸泡）

## 总览
- 执行日期: 2026-01-22
- 目标地址: http://localhost:18080
- 混合场景: 读/点赞/评论/发评 = 80/10/5/5
- 认证方式: 登录获取 Token（账号通过环境变量传入，不落盘）

## 阶段结论摘要（本轮复测）
1) 阶段一（混合场景）
- 读写均稳定，错误率 0%。
- 详细报告: docs/tests/jmeter/stage1-mix-report.md

2) 阶段二（摸高测试）
- 最大稳定并发: 300 线程（p95 < 500ms 且错误率 < 1%）。
- 350 线程 p95 超阈值触发停止（p95=512ms），错误率仍为 0%。
- 详细报告: docs/tests/jmeter/stage2-peak-report.md

3) 阶段三（浸泡测试）
- 完整浸泡 30 分钟：错误率 0%，稳定期无随时间劣化迹象。
- 快速浸泡 10 分钟：错误率 0%，但窗口短且受冷启动影响，尾延迟偏高，仅用于冒烟。
- 详细报告: docs/tests/jmeter/stage3-soak-report.md

## 关键结论
- 评论写入导致的数据库死锁/500 已修复；压测模型已与“真实用户（登录一次 + 业务动作循环）”一致。
- 系统稳定性已通过阶段一/二/三复测验证。

## 产物清单（本轮复测）
- 阶段一: results_stage1_20260122204612.jtl, report_stage1_20260122204612/
- 阶段二: peak_results_20260122204652.csv, peak_summary_20260122204652.txt, report_stage2_20260122204652_*/
- 阶段三（30min）: results_stage3_20260122211710.jtl, report_stage3_20260122211710/
- 阶段三（10min）: results_stage3_20260122223843.jtl, report_stage3_20260122223843/
