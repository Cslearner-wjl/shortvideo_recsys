# 脚本说明

> 本文档集中说明仓库脚本用途与启动方式。所有命令默认在仓库根目录执行。

## 快速入口
- **数据导入/抓取**：见“数据导入与抓取”章节
- **验收/验证脚本**：见“验收与验证”章节
- **大数据任务**：见“大数据任务”章节
- **生成视频相关**：见“生成视频目录”章节

---

## 数据导入与抓取
- `scripts/crawl_and_import.sh`
  - 用途：从网站拉取视频并导入数据库
  - 用法：`bash scripts/crawl_and_import.sh`
- `scripts/batch_import_videos.sh`
  - 用途：批量导入视频数据
  - 用法：`bash scripts/batch_import_videos.sh`

---

## 验收与验证
- `scripts/acceptance_m3_2_streaming.sh`
  - 用途：M3.2 流式链路验收
  - 用法：`bash scripts/acceptance_m3_2_streaming.sh`
- `scripts/acceptance_m4_als.sh`
  - 用途：M4 ALS 验收
  - 用法：`bash scripts/acceptance_m4_als.sh`
- `scripts/acceptance_hot_rank.ps1`
  - 用途：热榜验收（PowerShell）
  - 用法：`powershell -File scripts/acceptance_hot_rank.ps1`
- `scripts/verify_demo_recommendations.sh`
  - 用途：验证演示推荐结果
  - 用法：`bash scripts/verify_demo_recommendations.sh`
- `scripts/verify_behavior_events.sh`
  - 用途：验证行为事件写入与消费
  - 用法：`bash scripts/verify_behavior_events.sh`
- `simple_test.sh`
  - 用途：本地快速注册登录并触发播放/点赞事件
  - 用法：`bash simple_test.sh`
- `test_events.sh`
  - 用途：本地触发事件接口验证
  - 用法：`bash test_events.sh`
- `test_behavior_logging.sh`
  - 用途：验证行为日志写入
  - 用法：`bash test_behavior_logging.sh`
- `run_validation.sh`
  - 用途：执行本地验证流程
  - 用法：`bash run_validation.sh`
- `scripts/demo_recommendations.ps1`
  - 用途：演示推荐（PowerShell）
  - 用法：`powershell -File scripts/demo_recommendations.ps1`

---

## 大数据任务
- `bigdata/batch/bin/ensure_spark.sh`
  - 用途：检查 Spark 环境并准备运行依赖
  - 用法：`bash bigdata/batch/bin/ensure_spark.sh`
- `bigdata/batch/bin/run_als.sh`
  - 用途：运行 ALS 批处理任务
  - 用法：`bash bigdata/batch/bin/run_als.sh`
- `bigdata/streaming/bin/ensure_spark.sh`
  - 用途：检查 Spark 环境并准备流式任务依赖
  - 用法：`bash bigdata/streaming/bin/ensure_spark.sh`
- `bigdata/streaming/bin/run_streaming.sh`
  - 用途：启动流式计算任务
  - 用法：`bash bigdata/streaming/bin/run_streaming.sh`
- `scripts/run_m3_2_streaming.sh`
  - 用途：启动 M3.2 流式任务
  - 用法：`bash scripts/run_m3_2_streaming.sh`
- `scripts/run_m4_als_batch.sh`
  - 用途：运行 M4 ALS 批处理任务
  - 用法：`bash scripts/run_m4_als_batch.sh`

---

## 服务启动脚本
- `restart_backend.sh`
  - 用途：重启后端服务进程
  - 用法：`bash restart_backend.sh`
- `backend/run_backend_18080.sh`
  - 用途：启动后端并监听 18080 端口
  - 用法：`bash backend/run_backend_18080.sh`
- `scripts/run_backend_test_18080.sh`
  - 用途：以测试配置启动后端并监听 18080 端口
  - 用法：`bash scripts/run_backend_test_18080.sh`
- `check_m31_environment.sh`
  - 用途：检查 M3.1 环境依赖与配置
  - 用法：`bash check_m31_environment.sh`

---

## 生成视频目录
- 位置：`scripts/生成视频/`
- 说明：该目录包含抓取与生成视频相关的脚本与配置
- 详细说明：请查看 `scripts/生成视频/README_VIDEO_CRAWLER.md`
