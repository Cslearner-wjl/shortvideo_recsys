# 变更提案: 核心功能完善与体验增强

## 需求背景
当前系统已具备基础的登录、视频浏览与互动能力，但用户信息修改、评论列表展示与管理员账号管理仍不完整，影响核心业务闭环；同时视频详情页、滑动交互优化、播放上报与统计图表缺失，限制了体验与数据分析能力。

## 产品分析

### 目标用户与场景
- **用户群体:** 普通用户、内容创作者、管理员
- **使用场景:** 用户维护个人资料、浏览视频与评论；管理员管理账号与统计指标
- **核心痛点:** 核心功能不完整、评论与详情信息呈现不足、运营数据无法直观看到

### 价值主张与成功指标
- **价值主张:** 补齐核心功能闭环，提升观看与互动体验，提供可观测的业务数据
- **成功指标:** 关键接口可用且前端可完整操作；视频详情页与评论区可用；播放上报可采集；管理端统计图表可展示

### 人文关怀
对用户资料与行为数据仅做最小采集与最小展示，避免暴露敏感信息，管理员操作需可追溯。

## 变更内容
1. 核心功能：用户信息修改接口与前端页面、评论列表查询接口与前端展示、管理员账号管理
2. 用户体验：视频详情页（含完整评论区）、上下滑交互优化、播放时长/完播上报、视频发布量统计图表
3. 可选增强：取消点赞/收藏前端交互、推荐点击率统计、视频封面上传完善

## 影响范围
- **模块:** backend、frontend-user、frontend-admin、docs/wiki
- **文件:** 控制器/服务/Mapper、前端页面/组件/服务
- **API:** 用户信息修改、评论列表查询、管理员账号管理、统计与上报相关接口
- **数据:** 用户信息字段更新、统计查询口径、行为上报

## 核心场景

### 需求: 用户信息修改
**模块:** backend / frontend-user
用户可在个人信息页面修改资料并立即生效。

#### 场景: 修改个人资料
登录用户进入个人资料页修改昵称/头像/简介等信息并保存。
- 预期结果: 后端更新成功，前端刷新显示最新资料

### 需求: 评论列表查询与展示
**模块:** backend / frontend-user
用户在视频详情或评论区域查看评论列表。

#### 场景: 浏览评论列表
用户打开视频详情，加载评论列表并分页。
- 预期结果: 按时间排序展示评论列表并支持分页

### 需求: 管理员账号管理
**模块:** backend / frontend-admin
管理员可在管理端新增/修改/删除/改密管理员账号。

#### 场景: 管理员新增与改密
超级管理员新增普通管理员并可修改其密码。
- 预期结果: 管理端可完成新增/修改/删除/改密

### 需求: 视频详情页与评论区
**模块:** frontend-user / backend
视频详情页展示完整视频信息与评论区互动。

#### 场景: 浏览视频详情
用户进入视频详情页查看作者、互动数据与评论。
- 预期结果: 详情数据完整、评论区可加载与互动

### 需求: 上下滑交互优化
**模块:** frontend-user
用户在刷视频页面上下滑切换视频。

#### 场景: 连续刷视频
用户快速上下滑切换视频。
- 预期结果: 切换流畅，视频自动播放

### 需求: 播放时长/完播上报
**模块:** frontend-user / backend
播放过程中上报播放时长与完播状态。

#### 场景: 播放上报
用户播放视频到结束或中途离开。
- 预期结果: 后端记录播放时长与是否完播

### 需求: 视频发布量统计图表
**模块:** frontend-admin / backend
管理员查看视频发布量统计图表。

#### 场景: 统计图表展示
管理员在统计页面查看指定时间范围的视频发布量趋势。
- 预期结果: 图表显示趋势数据

### 需求: 可选增强
**模块:** frontend-user / backend
取消点赞/收藏交互优化，推荐点击率统计，视频封面上传完善。

#### 场景: 取消点赞/收藏
用户再次点击已点赞/收藏按钮取消操作。
- 预期结果: 前端状态更新并调用取消接口

## 风险评估
- **风险:** 需求口径未细化导致统计与交互返工
- **缓解:** 采用最小可用方案实现，接口与前端保持扩展性
